<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>حاسبة الدرجات - نظام الفصلين (40 + 60)</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* رأس الصفحة */
        .header {
            background: linear-gradient(135deg, #0d47a1 0%, #1976d2 100%);
            color: white;
            padding: 25px;
            border-radius: 15px 15px 0 0;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: "40% + 60% = 100%";
            position: absolute;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            font-size: 2rem;
            opacity: 0.1;
            font-weight: bold;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        /* نظام الدرجات */
        .grading-system {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .semester-box {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            border: 4px solid;
            position: relative;
        }
        
        .semester-1 {
            border-color: #4CAF50;
        }
        
        .semester-2 {
            border-color: #2196F3;
        }
        
        .semester-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px dashed;
        }
        
        .semester-1 .semester-header {
            border-bottom-color: #4CAF50;
        }
        
        .semester-2 .semester-header {
            border-bottom-color: #2196F3;
        }
        
        .semester-title {
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .semester-percentage {
            font-size: 1.5rem;
            font-weight: bold;
            padding: 8px 20px;
            border-radius: 8px;
            color: white;
        }
        
        .semester-1 .semester-percentage {
            background: #4CAF50;
        }
        
        .semester-2 .semester-percentage {
            background: #2196F3;
        }
        
        /* جدول المواد */
        .subjects-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .subjects-table th {
            background: #f5f5f5;
            padding: 15px;
            text-align: center;
            border-bottom: 2px solid #ddd;
            color: #333;
        }
        
        .subjects-table td {
            padding: 12px;
            text-align: center;
            border-bottom: 1px solid #eee;
        }
        
        .subject-name {
            text-align: right !important;
            font-weight: bold;
            color: #1a237e;
        }
        
        .grade-input {
            width: 90px;
            padding: 10px;
            border: 2px solid;
            border-radius: 6px;
            text-align: center;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .semester-1 .grade-input {
            border-color: #4CAF50;
        }
        
        .semester-2 .grade-input {
            border-color: #2196F3;
        }
        
        .grade-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }
        
        .semester-2 .grade-input:focus {
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.2);
        }
        
        /* النتائج النهائية */
        .final-results {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            border: 5px solid #FF9800;
        }
        
        .final-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #FF9800;
        }
        
        .final-header h2 {
            color: #1a237e;
            font-size: 2rem;
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }
        
        .result-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }
        
        .result-box.sem1 {
            border-left-color: #4CAF50;
        }
        
        .result-box.sem2 {
            border-left-color: #2196F3;
        }
        
        .result-box.final {
            border-left-color: #FF9800;
            background: linear-gradient(135deg, #fff8e1 0%, #fff3e0 100%);
        }
        
        .result-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .result-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #1a237e;
        }
        
        .result-percentage {
            font-size: 1.4rem;
            color: #4CAF50;
            margin-top: 5px;
        }
        
        /* عناصر التحكم */
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 180px;
            justify-content: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(76, 175, 80, 0.3);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #2196F3 0%, #0D47A1 100%);
            color: white;
        }
        
        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(33, 150, 243, 0.3);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
            color: white;
        }
        
        .btn-warning:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(255, 152, 0, 0.3);
        }
        
        /* الرسم البياني */
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 30px;
        }
        
        .chart-box {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .chart-title {
            text-align: center;
            margin-bottom: 15px;
            color: #1a237e;
            font-size: 1.3rem;
            font-weight: bold;
        }
        
        /* التذييل */
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: white;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* التنبيهات */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 25px;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            z-index: 1000;
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            animation: slideDown 0.3s ease;
            display: none;
        }
        
        .notification.show {
            display: block;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { top: -100px; opacity: 0; }
            to { top: 20px; opacity: 1; }
        }
        
        @keyframes slideDown {
            from { top: 20px; opacity: 1; }
            to { top: -100px; opacity: 0; }
        }
        
        /* تصميم متجاوب */
        @media (max-width: 1024px) {
            .grading-system {
                grid-template-columns: 1fr;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .results-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }
            
            .semester-title {
                font-size: 1.4rem;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
            }
            
            .grade-input {
                width: 70px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- رأس الصفحة -->
        <div class="header">
            <h1><i class="fas fa-calculator"></i> حاسبة الدرجات بنظام الفصلين</h1>
            <p>الفصل الأول (40%) + الفصل الثاني (60%) = المجموع الكامل (100%)</p>
        </div>
        
        <!-- نظام الدرجات -->
        <div class="grading-system">
            <!-- الفصل الأول -->
            <div class="semester-box semester-1">
                <div class="semester-header">
                    <div class="semester-title">
                        <i class="fas fa-book-open"></i> الفصل الدراسي الأول
                    </div>
                    <div class="semester-percentage">40%</div>
                </div>
                
                <table class="subjects-table" id="semester1Table">
                    <thead>
                        <tr>
                            <th width="40%">المادة الدراسية</th>
                            <th width="20%">الدرجة (من 40)</th>
                            <th width="20%">النسبة %</th>
                            <th width="20%">الدرجة الفعلية</th>
                        </tr>
                    </thead>
                    <tbody id="semester1Body">
                        <!-- سيتم ملؤها بالجافاسكريبت -->
                    </tbody>
                    <tfoot>
                        <tr style="background: #e8f5e9; font-weight: bold;">
                            <td>المجموع</td>
                            <td id="sem1TotalGrade">0</td>
                            <td id="sem1TotalPercent">0%</td>
                            <td id="sem1ActualTotal">0</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
            
            <!-- الفصل الثاني -->
            <div class="semester-box semester-2">
                <div class="semester-header">
                    <div class="semester-title">
                        <i class="fas fa-graduation-cap"></i> الفصل الدراسي الثاني
                    </div>
                    <div class="semester-percentage">60%</div>
                </div>
                
                <table class="subjects-table" id="semester2Table">
                    <thead>
                        <tr>
                            <th width="40%">المادة الدراسية</th>
                            <th width="20%">الدرجة (من 60)</th>
                            <th width="20%">النسبة %</th>
                            <th width="20%">الدرجة الفعلية</th>
                        </tr>
                    </thead>
                    <tbody id="semester2Body">
                        <!-- سيتم ملؤها بالجافاسكريبت -->
                    </tbody>
                    <tfoot>
                        <tr style="background: #e3f2fd; font-weight: bold;">
                            <td>المجموع</td>
                            <td id="sem2TotalGrade">0</td>
                            <td id="sem2TotalPercent">0%</td>
                            <td id="sem2ActualTotal">0</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
        
        <!-- عناصر التحكم -->
        <div class="controls">
            <button class="btn btn-primary" onclick="calculateAll()">
                <i class="fas fa-calculator"></i> حساب النتائج
            </button>
            <button class="btn btn-secondary" onclick="saveAllData()">
                <i class="fas fa-save"></i> حفظ البيانات
            </button>
            <button class="btn btn-secondary" onclick="loadAllData()">
                <i class="fas fa-download"></i> تحميل المحفوظ
            </button>
            <button class="btn btn-warning" onclick="resetAll()">
                <i class="fas fa-redo"></i> إعادة تعيين
            </button>
        </div>
        
        <!-- النتائج النهائية -->
        <div class="final-results">
            <div class="final-header">
                <h2><i class="fas fa-chart-line"></i> النتائج النهائية للمواد</h2>
            </div>
            
            <div class="results-grid" id="finalResults">
                <!-- سيتم ملؤها بالجافاسكريبت -->
            </div>
            
            <div style="text-align: center; margin-top: 20px;">
                <div style="font-size: 1.3rem; color: #1a237e; margin-bottom: 10px;">
                    <i class="fas fa-star"></i> التقدير العام: <span id="overallGrade">-</span>
                </div>
                <div style="font-size: 1.1rem; color: #666;">
                    مجموع الفصل الأول (40%) + الفصل الثاني (60%) = المجموع الكلي (100%)
                </div>
            </div>
        </div>
        
        <!-- الرسوم البيانية -->
        <div class="charts-container">
            <div class="chart-box">
                <div class="chart-title">توزيع درجات الفصلين</div>
                <canvas id="gradesChart"></canvas>
            </div>
            <div class="chart-box">
                <div class="chart-title">المقارنة بين الفصلين</div>
                <canvas id="comparisonChart"></canvas>
            </div>
        </div>
        
        <!-- تذييل الصفحة -->
        <footer>
            <p>© 2025 حاسبة الدرجات بنظام الفصلين | جميع الحقوق محفوظة</p>
            <p>تم بناء الموقع بكامل عن طريق المطور عمر </p>
        </footer>
    </div>
    
    <!-- منطقة التنبيهات -->
    <div class="notification" id="notification"></div>

    <script>
        // تعريف المواد الدراسية
        const subjects = [
            "علوم الحاسب",
            "تكنولوجيا المعلومات",
            "الرياضيات",
            "اللغة العربية",
            "اللغة الإنجليزية",
            "الفيزياء",
            "التربية الإسلامية",
            "مادة إضافية"
        ];
        
        // درجات الفصلين
        let semester1Grades = Array(subjects.length).fill(0);
        let semester2Grades = Array(subjects.length).fill(0);
        
        // إنشاء الجداول
        function createTables() {
            const sem1Body = document.getElementById('semester1Body');
            const sem2Body = document.getElementById('semester2Body');
            
            sem1Body.innerHTML = '';
            sem2Body.innerHTML = '';
            
            subjects.forEach((subject, index) => {
                // صف الفصل الأول
                const sem1Row = document.createElement('tr');
                sem1Row.innerHTML = `
                    <td class="subject-name">${subject}</td>
                    <td>
                        <input type="number" min="0" max="40" class="grade-input" 
                               id="sem1-grade-${index}" 
                               oninput="updateGrade(${index}, 1, this.value)"
                               placeholder="0-40" value="0">
                    </td>
                    <td id="sem1-percent-${index}">0%</td>
                    <td id="sem1-actual-${index}">0</td>
                `;
                sem1Body.appendChild(sem1Row);
                
                // صف الفصل الثاني
                const sem2Row = document.createElement('tr');
                sem2Row.innerHTML = `
                    <td class="subject-name">${subject}</td>
                    <td>
                        <input type="number" min="0" max="60" class="grade-input" 
                               id="sem2-grade-${index}" 
                               oninput="updateGrade(${index}, 2, this.value)"
                               placeholder="0-60" value="0">
                    </td>
                    <td id="sem2-percent-${index}">0%</td>
                    <td id="sem2-actual-${index}">0</td>
                `;
                sem2Body.appendChild(sem2Row);
            });
        }
        
        // تحديث الدرجة
        function updateGrade(index, semester, value) {
            const grade = parseFloat(value) || 0;
            
            if (semester === 1) {
                // الفصل الأول (من 40)
                if (grade > 40) {
                    document.getElementById(`sem1-grade-${index}`).value = 40;
                    semester1Grades[index] = 40;
                    showNotification('الدرجة القصوى للفصل الأول هي 40', 'warning');
                } else {
                    semester1Grades[index] = grade;
                }
            } else {
                // الفصل الثاني (من 60)
                if (grade > 60) {
                    document.getElementById(`sem2-grade-${index}`).value = 60;
                    semester2Grades[index] = 60;
                    showNotification('الدرجة القصوى للفصل الثاني هي 60', 'warning');
                } else {
                    semester2Grades[index] = grade;
                }
            }
            
            calculateAll();
        }
        
        // حساب جميع النتائج
        function calculateAll() {
            let sem1Total = 0;
            let sem2Total = 0;
            let sem1PercentTotal = 0;
            let sem2PercentTotal = 0;
            
            // حساب نتائج المواد
            subjects.forEach((subject, index) => {
                const sem1Grade = semester1Grades[index] || 0;
                const sem2Grade = semester2Grades[index] || 0;
                
                // حساب النسبة للفصل الأول (من 40)
                const sem1Percent = (sem1Grade / 40) * 100;
                document.getElementById(`sem1-percent-${index}`).textContent = sem1Percent.toFixed(1) + '%';
                
                // حساب النسبة للفصل الثاني (من 60)
                const sem2Percent = (sem2Grade / 60) * 100;
                document.getElementById(`sem2-percent-${index}`).textContent = sem2Percent.toFixed(1) + '%';
                
                // حساب الدرجة الفعلية (40% + 60%)
                const actualGrade = sem1Grade + sem2Grade;
                document.getElementById(`sem1-actual-${index}`).textContent = sem1Grade.toFixed(1);
                document.getElementById(`sem2-actual-${index}`).textContent = sem2Grade.toFixed(1);
                
                sem1Total += sem1Grade;
                sem2Total += sem2Grade;
                sem1PercentTotal += sem1Percent;
                sem2PercentTotal += sem2Percent;
            });
            
            // تحديث المجاميع
            document.getElementById('sem1TotalGrade').textContent = sem1Total.toFixed(1);
            document.getElementById('sem2TotalGrade').textContent = sem2Total.toFixed(1);
            
            const sem1AvgPercent = sem1PercentTotal / subjects.length;
            const sem2AvgPercent = sem2PercentTotal / subjects.length;
            
            document.getElementById('sem1TotalPercent').textContent = sem1AvgPercent.toFixed(1) + '%';
            document.getElementById('sem2TotalPercent').textContent = sem2AvgPercent.toFixed(1) + '%';
            
            document.getElementById('sem1ActualTotal').textContent = sem1Total.toFixed(1);
            document.getElementById('sem2ActualTotal').textContent = sem2Total.toFixed(1);
            
            // حساب النتائج النهائية
            calculateFinalResults();
            updateCharts();
            
            // حفظ البيانات تلقائياً
            saveAllData();
        }
        
        // حساب النتائج النهائية
        function calculateFinalResults() {
            const finalResultsDiv = document.getElementById('finalResults');
            finalResultsDiv.innerHTML = '';
            
            let html = '';
            
            subjects.forEach((subject, index) => {
                const sem1Grade = semester1Grades[index] || 0;
                const sem2Grade = semester2Grades[index] || 0;
                const totalGrade = sem1Grade + sem2Grade;
                const percentage = (totalGrade / 100) * 100;
                
                // التقدير
                const gradeText = getGradeText(percentage);
                
                html += `
                    <div class="result-box final">
                        <div class="result-title">
                            <i class="fas fa-book"></i> ${subject}
                        </div>
                        <div class="result-value">${totalGrade.toFixed(1)} / 100</div>
                        <div class="result-percentage">${percentage.toFixed(1)}%</div>
                        <div style="margin-top: 10px; color: #666; font-size: 0.9rem;">
                            <span style="color: #4CAF50;">الفصل الأول: ${sem1Grade}</span> | 
                            <span style="color: #2196F3;">الفصل الثاني: ${sem2Grade}</span>
                        </div>
                        <div style="margin-top: 5px; font-weight: bold; color: #FF9800;">
                            التقدير: ${gradeText}
                        </div>
                    </div>
                `;
            });
            
            finalResultsDiv.innerHTML = html;
            
            // حساب المجموع الكلي والتقدير العام
            let totalAllGrades = 0;
            let totalPercentage = 0;
            
            subjects.forEach((subject, index) => {
                totalAllGrades += (semester1Grades[index] || 0) + (semester2Grades[index] || 0);
            });
            
            totalPercentage = (totalAllGrades / (subjects.length * 100)) * 100;
            const overallGrade = getGradeText(totalPercentage);
            
            document.getElementById('overallGrade').textContent = overallGrade + ` (${totalPercentage.toFixed(1)}%)`;
        }
        
        // الحصول على التقدير
        function getGradeText(percentage) {
            if (percentage >= 90) return "ممتاز";
            if (percentage >= 80) return "جيد جداً";
            if (percentage >= 70) return "جيد";
            if (percentage >= 60) return "مقبول";
            return "ضعيف";
        }
        
        // تحديث الرسوم البيانية
        let gradesChart, comparisonChart;
        
        function updateCharts() {
            const ctx1 = document.getElementById('gradesChart').getContext('2d');
            const ctx2 = document.getElementById('comparisonChart').getContext('2d');
            
            // إعداد البيانات
            const labels = subjects;
            const sem1Data = semester1Grades;
            const sem2Data = semester2Grades;
            const totalData = subjects.map((_, i) => (semester1Grades[i] || 0) + (semester2Grades[i] || 0));
            
            // تدمير المخططات السابقة
            if (gradesChart) gradesChart.destroy();
            if (comparisonChart) comparisonChart.destroy();
            
            // مخطط الأعمدة للدرجات
            gradesChart = new Chart(ctx1, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [
                        {
                            label: 'الفصل الأول (40%)',
                            data: sem1Data,
                            backgroundColor: '#4CAF50',
                            borderColor: '#388E3C',
                            borderWidth: 1
                        },
                        {
                            label: 'الفصل الثاني (60%)',
                            data: sem2Data,
                            backgroundColor: '#2196F3',
                            borderColor: '#1976D2',
                            borderWidth: 1
                        },
                        {
                            label: 'المجموع الكلي',
                            data: totalData,
                            backgroundColor: '#FF9800',
                            borderColor: '#F57C00',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            title: {
                                display: true,
                                text: 'الدرجة'
                            }
                        }
                    }
                }
            });
            
            // مخطط المقارنة
            const sem1Avg = sem1Data.reduce((a, b) => a + b, 0) / subjects.length;
            const sem2Avg = sem2Data.reduce((a, b) => a + b, 0) / subjects.length;
            const totalAvg = totalData.reduce((a, b) => a + b, 0) / subjects.length;
            
            comparisonChart = new Chart(ctx2, {
                type: 'doughnut',
                data: {
                    labels: ['الفصل الأول', 'الفصل الثاني', 'المجموع'],
                    datasets: [{
                        data: [sem1Avg, sem2Avg, totalAvg],
                        backgroundColor: ['#4CAF50', '#2196F3', '#FF9800'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `${context.label}: ${context.parsed.toFixed(1)}`;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // حفظ البيانات
        function saveAllData() {
            const data = {
                sem1: semester1Grades,
                sem2: semester2Grades,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('gradesData', JSON.stringify(data));
            showNotification('تم حفظ البيانات بنجاح', 'success');
        }
        
        // تحميل البيانات
        function loadAllData() {
            const saved = localStorage.getItem('gradesData');
            
            if (saved) {
                const data = JSON.parse(saved);
                semester1Grades = data.sem1 || Array(subjects.length).fill(0);
                semester2Grades = data.sem2 || Array(subjects.length).fill(0);
                
                // تحديث حقول الإدخال
                subjects.forEach((subject, index) => {
                    document.getElementById(`sem1-grade-${index}`).value = semester1Grades[index] || 0;
                    document.getElementById(`sem2-grade-${index}`).value = semester2Grades[index] || 0;
                });
                
                calculateAll();
                showNotification('تم تحميل البيانات بنجاح', 'success');
            } else {
                showNotification('لا توجد بيانات محفوظة', 'warning');
            }
        }
        
        // إعادة تعيين
        function resetAll() {
            if (confirm('هل أنت متأكد من إعادة تعيين جميع البيانات؟')) {
                semester1Grades = Array(subjects.length).fill(0);
                semester2Grades = Array(subjects.length).fill(0);
                
                subjects.forEach((subject, index) => {
                    document.getElementById(`sem1-grade-${index}`).value = 0;
                    document.getElementById(`sem2-grade-${index}`).value = 0;
                });
                
                calculateAll();
                localStorage.removeItem('gradesData');
                showNotification('تم إعادة تعيين جميع البيانات', 'info');
            }
        }
        
        // إظهار التنبيهات
        function showNotification(message, type) {
            const notification = document.getElementById('notification');
            
            // تحديد لون التنبيه
            if (type === 'success') {
                notification.style.background = '#4CAF50';
            } else if (type === 'warning') {
                notification.style.background = '#FF9800';
            } else if (type === 'info') {
                notification.style.background = '#2196F3';
            } else {
                notification.style.background = '#333';
            }
            
            notification.textContent = message;
            notification.classList.add('show');
            
            // إخفاء التنبيه بعد 3 ثواني
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }
        
        // تهيئة الصفحة
        window.onload = function() {
            createTables();
            loadAllData();
            calculateAll();
            
            // إضافة أنيميشن للإدخال
            const inputs = document.querySelectorAll('.grade-input');
            inputs.forEach(input => {
                input.addEventListener('focus', function() {
                    this.style.transform = 'scale(1.05)';
                });
                
                input.addEventListener('blur', function() {
                    this.style.transform = 'scale(1)';
                });
            });
        };
    </script>
</body>
</html>